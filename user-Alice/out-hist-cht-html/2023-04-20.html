<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><style>body {
  max-width: 980px;
  margin: 16px auto;
}

body .markdown-body
{
  padding: 45px;
}

@font-face {
  font-family: fontawesome-mini;
  src: url(data:font/woff;charset=utf-8;base64,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) format('woff');
}

.markdown-body {
  font-family: sans-serif;
  -ms-text-size-adjust: 100%;
  -webkit-text-size-adjust: 100%;
  color: #333333;
  overflow: hidden;
  font-family: "Helvetica Neue", Helvetica, "Segoe UI", Arial, freesans, sans-serif;
  font-size: 16px;
  line-height: 1.6;
  word-wrap: break-word;
}

.markdown-body a {
  background: transparent;
}

.markdown-body a:active,
.markdown-body a:hover {
  outline: 0;
}

.markdown-body b,
.markdown-body strong {
  font-weight: bold;
}

.markdown-body mark {
  background: #ff0;
  color: #000;
  font-style: italic;
  font-weight: bold;
}

.markdown-body sub,
.markdown-body sup {
  font-size: 75%;
  line-height: 0;
  position: relative;
  vertical-align: baseline;
}
.markdown-body sup {
  top: -0.5em;
}
.markdown-body sub {
  bottom: -0.25em;
}

.markdown-body h1 {
  font-size: 2em;
  margin: 0.67em 0;
}

.markdown-body img {
  border: 0;
}

.markdown-body hr {
  -moz-box-sizing: content-box;
  box-sizing: content-box;
  height: 0;
}

.markdown-body pre {
  overflow: auto;
}

.markdown-body code,
.markdown-body kbd,
.markdown-body pre,
.markdown-body samp {
  font-family: monospace, monospace;
  font-size: 1em;
}

.markdown-body input {
  color: inherit;
  font: inherit;
  margin: 0;
}

.markdown-body html input[disabled] {
  cursor: default;
}

.markdown-body input {
  line-height: normal;
}

.markdown-body input[type="checkbox"] {
  box-sizing: border-box;
  padding: 0;
}

.markdown-body table {
  border-collapse: collapse;
  border-spacing: 0;
}

.markdown-body td,
.markdown-body th {
  padding: 0;
}

.markdown-body .codehilitetable,
.markdown-body .highlighttable {
  border: 0;
  border-spacing: 0;
}

.markdown-body .codehilitetable tr,
.markdown-body .highlighttable {
  border: 0;
}

.markdown-body .codehilitetable pre,
.markdown-body .codehilitetable div.codehilite,
.markdown-body .highlighttable pre,
.markdown-body .highlighttable div.highlight {
  margin: 0;
}

.markdown-body .linenos,
.markdown-body .code,
.markdown-body .codehilitetable td,
.markdown-body .highlighttable td {
  border: 0;
  padding: 0;
}

.markdown-body td:not(.linenos) .linenodiv {
  padding: 0 !important;
}

.markdown-body .code {
  width: 100%;
}

.markdown-body .linenos div pre,
.markdown-body .linenodiv pre,
.markdown-body .linenodiv {
  border: 0;
  -webkit-border-radius: 0;
  -moz-border-radius: 0;
  border-radius: 0;
  -webkit-border-top-left-radius: 3px;
  -webkit-border-bottom-left-radius: 3px;
  -moz-border-radius-topleft: 3px;
  -moz-border-radius-bottomleft: 3px;
  border-top-left-radius: 3px;
  border-bottom-left-radius: 3px;
}

.markdown-body .code div pre,
.markdown-body .code div {
  border: 0;
  -webkit-border-radius: 0;
  -moz-border-radius: 0;
  border-radius: 0;
  -webkit-border-top-right-radius: 3px;
  -webkit-border-bottom-right-radius: 3px;
  -moz-border-radius-topright: 3px;
  -moz-border-radius-bottomright: 3px;
  border-top-right-radius: 3px;
  border-bottom-right-radius: 3px;
}

.markdown-body * {
  -moz-box-sizing: border-box;
  box-sizing: border-box;
}

.markdown-body input {
  font: 13px Helvetica, arial, freesans, clean, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol";
  line-height: 1.4;
}

.markdown-body a {
  color: #4183c4;
  text-decoration: none;
}

.markdown-body a:hover,
.markdown-body a:focus,
.markdown-body a:active {
  text-decoration: underline;
}

.markdown-body hr {
  height: 0;
  margin: 15px 0;
  overflow: hidden;
  background: transparent;
  border: 0;
  border-bottom: 1px solid #ddd;
}

.markdown-body hr:before,
.markdown-body hr:after {
  display: table;
  content: " ";
}

.markdown-body hr:after {
  clear: both;
}

.markdown-body h1,
.markdown-body h2,
.markdown-body h3,
.markdown-body h4,
.markdown-body h5,
.markdown-body h6 {
  margin-top: 15px;
  margin-bottom: 15px;
  line-height: 1.1;
}

.markdown-body h1 {
  font-size: 30px;
}

.markdown-body h2 {
  font-size: 21px;
}

.markdown-body h3 {
  font-size: 16px;
}

.markdown-body h4 {
  font-size: 14px;
}

.markdown-body h5 {
  font-size: 12px;
}

.markdown-body h6 {
  font-size: 11px;
}

.markdown-body blockquote {
  margin: 0;
}

.markdown-body ul,
.markdown-body ol {
  padding: 0;
  margin-top: 0;
  margin-bottom: 0;
}

.markdown-body ol ol,
.markdown-body ul ol {
  list-style-type: lower-roman;
}

.markdown-body ul ul ol,
.markdown-body ul ol ol,
.markdown-body ol ul ol,
.markdown-body ol ol ol {
  list-style-type: lower-alpha;
}

.markdown-body dd {
  margin-left: 0;
}

.markdown-body code,
.markdown-body pre,
.markdown-body samp {
  font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
  font-size: 12px;
}

.markdown-body pre {
  margin-top: 0;
  margin-bottom: 0;
}

.markdown-body kbd {
  background-color: #e7e7e7;
  background-image: -moz-linear-gradient(#fefefe, #e7e7e7);
  background-image: -webkit-linear-gradient(#fefefe, #e7e7e7);
  background-image: linear-gradient(#fefefe, #e7e7e7);
  background-repeat: repeat-x;
  border-radius: 2px;
  border: 1px solid #cfcfcf;
  color: #000;
  padding: 3px 5px;
  line-height: 10px;
  font: 11px Consolas, "Liberation Mono", Menlo, Courier, monospace;
  display: inline-block;
}

.markdown-body>*:first-child {
  margin-top: 0 !important;
}

.markdown-body>*:last-child {
  margin-bottom: 0 !important;
}

.markdown-body .headerlink {
  font: normal 400 16px fontawesome-mini;
  vertical-align: middle;
  margin-left: -16px;
  float: left;
  display: inline-block;
  text-decoration: none;
  opacity: 0;
  color: #333;
}

.markdown-body .headerlink:focus {
  outline: none;
}

.markdown-body h1 .headerlink {
  margin-top: 0.8rem;
}

.markdown-body h2 .headerlink,
.markdown-body h3 .headerlink {
  margin-top: 0.6rem;
}

.markdown-body h4 .headerlink {
  margin-top: 0.2rem;
}

.markdown-body h5 .headerlink,
.markdown-body h6 .headerlink {
  margin-top: 0;
}

.markdown-body .headerlink:hover,
.markdown-body h1:hover .headerlink,
.markdown-body h2:hover .headerlink,
.markdown-body h3:hover .headerlink,
.markdown-body h4:hover .headerlink,
.markdown-body h5:hover .headerlink,
.markdown-body h6:hover .headerlink {
  opacity: 1;
  text-decoration: none;
}

.markdown-body h1 {
  padding-bottom: 0.3em;
  font-size: 2.25em;
  line-height: 1.2;
  border-bottom: 1px solid #eee;
}

.markdown-body h2 {
  padding-bottom: 0.3em;
  font-size: 1.75em;
  line-height: 1.225;
  border-bottom: 1px solid #eee;
}

.markdown-body h3 {
  font-size: 1.5em;
  line-height: 1.43;
}

.markdown-body h4 {
  font-size: 1.25em;
}

.markdown-body h5 {
  font-size: 1em;
}

.markdown-body h6 {
  font-size: 1em;
  color: #777;
}

.markdown-body p,
.markdown-body blockquote,
.markdown-body ul,
.markdown-body ol,
.markdown-body dl,
.markdown-body table,
.markdown-body pre,
.markdown-body .admonition {
  margin-top: 0;
  margin-bottom: 16px;
}

.markdown-body hr {
  height: 4px;
  padding: 0;
  margin: 16px 0;
  background-color: #e7e7e7;
  border: 0 none;
}

.markdown-body ul,
.markdown-body ol {
  padding-left: 2em;
}

.markdown-body ul ul,
.markdown-body ul ol,
.markdown-body ol ol,
.markdown-body ol ul {
  margin-top: 0;
  margin-bottom: 0;
}

.markdown-body li>p {
  margin-top: 16px;
}

.markdown-body dl {
  padding: 0;
}

.markdown-body dl dt {
  padding: 0;
  margin-top: 16px;
  font-size: 1em;
  font-style: italic;
  font-weight: bold;
}

.markdown-body dl dd {
  padding: 0 16px;
  margin-bottom: 16px;
}

.markdown-body blockquote {
  padding: 0 15px;
  color: #777;
  border-left: 4px solid #ddd;
}

.markdown-body blockquote>:first-child {
  margin-top: 0;
}

.markdown-body blockquote>:last-child {
  margin-bottom: 0;
}

.markdown-body table {
  display: block;
  width: 100%;
  overflow: auto;
  word-break: normal;
  word-break: keep-all;
}

.markdown-body table th {
  font-weight: bold;
}

.markdown-body table th,
.markdown-body table td {
  padding: 6px 13px;
  border: 1px solid #ddd;
}

.markdown-body table tr {
  background-color: #fff;
  border-top: 1px solid #ccc;
}

.markdown-body table tr:nth-child(2n) {
  background-color: #f8f8f8;
}

.markdown-body img {
  max-width: 100%;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
}

.markdown-body code,
.markdown-body samp {
  padding: 0;
  padding-top: 0.2em;
  padding-bottom: 0.2em;
  margin: 0;
  font-size: 85%;
  border-radius: 3px;
}

.markdown-body code:not(.highlight):not(.codehilite), .markdown-body samp {
  background-color: rgba(0,0,0,0.04);
}

.markdown-body code:before,
.markdown-body code:after {
  letter-spacing: -0.2em;
  content: "\00a0";
}

.markdown-body pre>code {
  padding: 0;
  margin: 0;
  font-size: 100%;
  word-break: normal;
  white-space: pre;
  background: transparent;
  border: 0;
}

.markdown-body .codehilite,
.markdown-body .highlight {
  margin-bottom: 16px;
}

.markdown-body .codehilite pre,
.markdown-body .highlight pre,
.markdown-body pre {
  padding: 16px;
  overflow: auto;
  font-size: 85%;
  line-height: 1.45;
}

.markdown-body .codehilite,
.markdown-body .highlight,
.markdown-body pre {
  border-radius: 3px;
}

.markdown-body :not(.highlight) > pre {
  background-color: #f7f7f7;
}

.markdown-body .codehilite pre,
.markdown-body .highlight pre {
  margin-bottom: 0;
  word-break: normal;
}

.markdown-body pre {
  word-wrap: normal;
}

.markdown-body pre code {
  display: inline;
  max-width: initial;
  padding: 0;
  margin: 0;
  overflow: initial;
  line-height: inherit;
  word-wrap: normal;
  background-color: transparent;
  border: 0;
}

.markdown-body pre code:before,
.markdown-body pre code:after {
  content: normal;
}

/* Admonition */
.markdown-body .admonition {
  -webkit-border-radius: 3px;
  -moz-border-radius: 3px;
  position: relative;
  border-radius: 3px;
  border: 1px solid #e0e0e0;
  border-left: 6px solid #333;
  padding: 10px 10px 10px 30px;
}

.markdown-body .admonition table {
  color: #333;
}

.markdown-body .admonition p {
  padding: 0;
}

.markdown-body .admonition-title {
  font-weight: bold;
  margin: 0;
}

.markdown-body .admonition>.admonition-title {
  color: #333;
}

.markdown-body .attention>.admonition-title {
  color: #a6d796;
}

.markdown-body .caution>.admonition-title {
  color: #d7a796;
}

.markdown-body .hint>.admonition-title {
  color: #96c6d7;
}

.markdown-body .danger>.admonition-title {
  color: #c25f77;
}

.markdown-body .question>.admonition-title {
  color: #96a6d7;
}

.markdown-body .note>.admonition-title {
  color: #d7c896;
}

.markdown-body .admonition:before,
.markdown-body .attention:before,
.markdown-body .caution:before,
.markdown-body .hint:before,
.markdown-body .danger:before,
.markdown-body .question:before,
.markdown-body .note:before {
  font: normal normal 16px fontawesome-mini;
  -moz-osx-font-smoothing: grayscale;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  line-height: 1.5;
  color: #333;
  position: absolute;
  left: 0;
  top: 0;
  padding-top: 10px;
  padding-left: 10px;
}

.markdown-body .admonition:before {
  content: "\f056\00a0";
  color: 333;
}

.markdown-body .attention:before {
  content: "\f058\00a0";
  color: #a6d796;
}

.markdown-body .caution:before {
  content: "\f06a\00a0";
  color: #d7a796;
}

.markdown-body .hint:before {
  content: "\f05a\00a0";
  color: #96c6d7;
}

.markdown-body .danger:before {
  content: "\f057\00a0";
  color: #c25f77;
}

.markdown-body .question:before {
  content: "\f059\00a0";
  color: #96a6d7;
}

.markdown-body .note:before {
  content: "\f040\00a0";
  color: #d7c896;
}

.markdown-body .admonition::after {
  content: normal;
}

.markdown-body .attention {
  border-left: 6px solid #a6d796;
}

.markdown-body .caution {
  border-left: 6px solid #d7a796;
}

.markdown-body .hint {
  border-left: 6px solid #96c6d7;
}

.markdown-body .danger {
  border-left: 6px solid #c25f77;
}

.markdown-body .question {
  border-left: 6px solid #96a6d7;
}

.markdown-body .note {
  border-left: 6px solid #d7c896;
}

.markdown-body .admonition>*:first-child {
  margin-top: 0 !important;
}

.markdown-body .admonition>*:last-child {
  margin-bottom: 0 !important;
}

/* progress bar*/
.markdown-body .progress {
  display: block;
  width: 300px;
  margin: 10px 0;
  height: 24px;
  -webkit-border-radius: 3px;
  -moz-border-radius: 3px;
  border-radius: 3px;
  background-color: #ededed;
  position: relative;
  box-shadow: inset -1px 1px 3px rgba(0, 0, 0, .1);
}

.markdown-body .progress-label {
  position: absolute;
  text-align: center;
  font-weight: bold;
  width: 100%; margin: 0;
  line-height: 24px;
  color: #333;
  text-shadow: 1px 1px 0 #fefefe, -1px -1px 0 #fefefe, -1px 1px 0 #fefefe, 1px -1px 0 #fefefe, 0 1px 0 #fefefe, 0 -1px 0 #fefefe, 1px 0 0 #fefefe, -1px 0 0 #fefefe, 1px 1px 2px #000;
  -webkit-font-smoothing: antialiased !important;
  white-space: nowrap;
  overflow: hidden;
}

.markdown-body .progress-bar {
  height: 24px;
  float: left;
  -webkit-border-radius: 3px;
  -moz-border-radius: 3px;
  border-radius: 3px;
  background-color: #96c6d7;
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, .5), inset 0 -1px 0 rgba(0, 0, 0, .1);
  background-size: 30px 30px;
  background-image: -webkit-linear-gradient(
    135deg, rgba(255, 255, 255, .4) 27%,
    transparent 27%,
    transparent 52%, rgba(255, 255, 255, .4) 52%,
    rgba(255, 255, 255, .4) 77%,
    transparent 77%, transparent
  );
  background-image: -moz-linear-gradient(
    135deg,
    rgba(255, 255, 255, .4) 27%, transparent 27%,
    transparent 52%, rgba(255, 255, 255, .4) 52%,
    rgba(255, 255, 255, .4) 77%, transparent 77%,
    transparent
  );
  background-image: -ms-linear-gradient(
    135deg,
    rgba(255, 255, 255, .4) 27%, transparent 27%,
    transparent 52%, rgba(255, 255, 255, .4) 52%,
    rgba(255, 255, 255, .4) 77%, transparent 77%,
    transparent
  );
  background-image: -o-linear-gradient(
    135deg,
    rgba(255, 255, 255, .4) 27%, transparent 27%,
    transparent 52%, rgba(255, 255, 255, .4) 52%,
    rgba(255, 255, 255, .4) 77%, transparent 77%,
    transparent
  );
  background-image: linear-gradient(
    135deg,
    rgba(255, 255, 255, .4) 27%, transparent 27%,
    transparent 52%, rgba(255, 255, 255, .4) 52%,
    rgba(255, 255, 255, .4) 77%, transparent 77%,
    transparent
  );
}

.markdown-body .progress-100plus .progress-bar {
  background-color: #a6d796;
}

.markdown-body .progress-80plus .progress-bar {
  background-color: #c6d796;
}

.markdown-body .progress-60plus .progress-bar {
  background-color: #d7c896;
}

.markdown-body .progress-40plus .progress-bar {
  background-color: #d7a796;
}

.markdown-body .progress-20plus .progress-bar {
  background-color: #d796a6;
}

.markdown-body .progress-0plus .progress-bar {
  background-color: #c25f77;
}

.markdown-body .candystripe-animate .progress-bar{
  -webkit-animation: animate-stripes 3s linear infinite;
  -moz-animation: animate-stripes 3s linear infinite;
  animation: animate-stripes 3s linear infinite;
}

@-webkit-keyframes animate-stripes {
  0% {
    background-position: 0 0;
  }

  100% {
    background-position: 60px 0;
  }
}

@-moz-keyframes animate-stripes {
  0% {
    background-position: 0 0;
  }

  100% {
    background-position: 60px 0;
  }
}

@keyframes animate-stripes {
  0% {
    background-position: 0 0;
  }

  100% {
    background-position: 60px 0;
  }
}

.markdown-body .gloss .progress-bar {
  box-shadow:
    inset 0 4px 12px rgba(255, 255, 255, .7),
    inset 0 -12px 0 rgba(0, 0, 0, .05);
}

/* MultiMarkdown Critic Blocks */
.markdown-body .critic_mark {
  background: #ff0;
}

.markdown-body .critic_delete {
  color: #c82829;
  text-decoration: line-through;
}

.markdown-body .critic_insert {
  color: #718c00 ;
  text-decoration: underline;
}

.markdown-body .critic_comment {
  color: #8e908c;
  font-style: italic;
}

.markdown-body .headeranchor {
  font: normal normal 16px fontawesome-mini;
  line-height: 1;
  display: inline-block;
  text-decoration: none;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.headeranchor:before {
  content: '\e157';
}

.markdown-body .task-list-item {
  list-style-type: none;
}

.markdown-body .task-list-item+.task-list-item {
  margin-top: 3px;
}

.markdown-body .task-list-item input {
  margin: 0 4px 0.25em -20px;
  vertical-align: middle;
}

.markdown-body diagram-div, .markdown-body div.uml-sequence-diagram, .markdown-body, div.uml-flowchart {
  overflow: auto;
}

/* Media */
@media only screen and (min-width: 480px) {
  .markdown-body {
    font-size:14px;
  }
}

@media only screen and (min-width: 768px) {
  .markdown-body {
    font-size:16px;
  }
}

@media print {
  .markdown-body * {
    background: transparent !important;
    color: black !important;
    filter:none !important;
    -ms-filter: none !important;
  }

  .markdown-body {
    font-size:12pt;
    max-width:100%;
    outline:none;
    border: 0;
  }

  .markdown-body a,
  .markdown-body a:visited {
    text-decoration: underline;
  }

  .markdown-body .headeranchor-link {
    display: none;
  }

  .markdown-body a[href]:after {
    content: " (" attr(href) ")";
  }

  .markdown-body abbr[title]:after {
    content: " (" attr(title) ")";
  }

  .markdown-body .ir a:after,
  .markdown-body a[href^="javascript:"]:after,
  .markdown-body a[href^="#"]:after {
    content: "";
  }

  .markdown-body pre {
    white-space: pre;
    white-space: pre-wrap;
    word-wrap: break-word;
  }

  .markdown-body pre,
  .markdown-body blockquote {
    border: 1px solid #999;
    padding-right: 1em;
    page-break-inside: avoid;
  }

  .markdown-body .progress,
  .markdown-body .progress-bar {
    -moz-box-shadow: none;
    -webkit-box-shadow: none;
    box-shadow: none;
  }

  .markdown-body .progress {
    border: 1px solid #ddd;
  }

  .markdown-body .progress-bar {
    height: 22px;
    border-right: 1px solid #ddd;
  }

  .markdown-body tr,
  .markdown-body img {
    page-break-inside: avoid;
  }

  .markdown-body img {
    max-width: 100% !important;
  }

  .markdown-body p,
  .markdown-body h2,
  .markdown-body h3 {
    orphans: 3;
    widows: 3;
  }

  .markdown-body h2,
  .markdown-body h3 {
    page-break-after: avoid;
  }
}
</style><script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js'></script><script>MathJax.Hub.Config({
  config: ["MMLorHTML.js"],
  extensions: ["tex2jax.js"],
  jax: ["input/TeX", "output/HTML-CSS", "output/NativeMML"],
  tex2jax: {
    inlineMath: [ ['$','$'], ["\\(","\\)"] ],
    displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
    processEscapes: true,
    processEnvironments: true,
    ignoreClass: ".*|",
    processClass: "arithmatex"
  },
  TeX: {
    extensions: ["AMSmath.js", "AMSsymbols.js"],
    TagSide: "right",
    TagIndent: ".8em",
    MultLineWidth: "85%",
    equationNumbers: {
      autoNumber: "AMS",
    },
    unicode: {
      fonts: "STIXGeneral,'Arial Unicode MS'"
    }
  },
  showProcessingMessages: false,
  messageStyle: 'none'
});
</script><style>/*GitHub*/
.highlight {background-color:#f7f7f7;color:#333333;}
.highlight .hll {background-color:#ffffcc;}
.highlight .c{color:#999988;font-style:italic}
.highlight .err{color:#a61717;background-color:#e3d2d2}
.highlight .k{font-weight:bold}
.highlight .o{font-weight:bold}
.highlight .cm{color:#999988;font-style:italic}
.highlight .cp{color:#999999;font-weight:bold}
.highlight .c1{color:#999988;font-style:italic}
.highlight .cs{color:#999999;font-weight:bold;font-style:italic}
.highlight .gd{color:#000000;background-color:#ffdddd}
.highlight .ge{font-style:italic}
.highlight .gr{color:#aa0000}
.highlight .gh{color:#999999}
.highlight .gi{color:#000000;background-color:#ddffdd}
.highlight .go{color:#888888}
.highlight .gp{color:#555555}
.highlight .gs{font-weight:bold}
.highlight .gu{color:#800080;font-weight:bold}
.highlight .gt{color:#aa0000}
.highlight .kc{font-weight:bold}
.highlight .kd{font-weight:bold}
.highlight .kn{font-weight:bold}
.highlight .kp{font-weight:bold}
.highlight .kr{font-weight:bold}
.highlight .kt{color:#445588;font-weight:bold}
.highlight .m{color:#009999}
.highlight .s{color:#dd1144}
.highlight .n{color:#333333}
.highlight .na{color:teal}
.highlight .nb{color:#0086b3}
.highlight .nc{color:#445588;font-weight:bold}
.highlight .no{color:teal}
.highlight .ni{color:purple}
.highlight .ne{color:#990000;font-weight:bold}
.highlight .nf{color:#990000;font-weight:bold}
.highlight .nn{color:#555555}
.highlight .nt{color:navy}
.highlight .nv{color:teal}
.highlight .ow{font-weight:bold}
.highlight .w{color:#bbbbbb}
.highlight .mf{color:#009999}
.highlight .mh{color:#009999}
.highlight .mi{color:#009999}
.highlight .mo{color:#009999}
.highlight .sb{color:#dd1144}
.highlight .sc{color:#dd1144}
.highlight .sd{color:#dd1144}
.highlight .s2{color:#dd1144}
.highlight .se{color:#dd1144}
.highlight .sh{color:#dd1144}
.highlight .si{color:#dd1144}
.highlight .sx{color:#dd1144}
.highlight .sr{color:#009926}
.highlight .s1{color:#dd1144}
.highlight .ss{color:#990073}
.highlight .bp{color:#999999}
.highlight .vc{color:teal}
.highlight .vg{color:teal}
.highlight .vi{color:teal}
.highlight .il{color:#009999}
.highlight .gc{color:#999;background-color:#EAF2F5}
</style><title>2023-04-20</title></head><body><article class="markdown-body"><h1>2023-04-20</h1>
<p>Created: 2023-11-08 12:40:14</p>
<h1>Chats</h1>
<ul>
<li>SGX.0418.md<ul>
<li><code>[09:22]</code> Is secure boot a hardware or software attestation? <code>(SGX.0418.md)</code></li>
<li><code>[09:23]</code> Is UEFI Secure Boot a hardware or software attestation? <code>(SGX.0418.md)</code></li>
<li><code>[09:24]</code> Do you mean that UEFI Secure Boot requires TPM? <code>(SGX.0418.md)</code></li>
<li><code>[09:36]</code> What is enclave in Intel SGX? <code>(SGX.0418.md)</code></li>
<li><code>[09:41]</code> Which key is encrypt memory encrypted by? <code>(SGX.0418.md)</code></li>
<li><code>[09:43]</code> How does CPU run code in the encrypted memory in enclave? <code>(SGX.0418.md)</code></li>
<li><code>[09:52]</code> What is MRSIGNER? <code>(SGX.0418.md)</code></li>
<li><code>[10:34]</code> Who does generate MRSIGNER? <code>(SGX.0418.md)</code></li>
<li><code>[10:38]</code> So the MRSIGNER value is generated in offline not at runtime. Right? <code>(SGX.0418.md)</code></li>
<li><code>[10:39]</code> Where is the private key stored? <code>(SGX.0418.md)</code></li>
<li><code>[14:20]</code> Does Intel EPID require TPM? <code>(SGX.0418.md)</code></li>
<li><code>[14:26]</code> How is EPID keys enrolled into a device? <code>(SGX.0418.md)</code></li>
<li><code>[17:16]</code> Can a program in an enclave see outside? <code>(SGX.0418.md)</code></li>
</ul>
</li>
<li>Papers.SGX.0419.md<ul>
<li><code>[10:19]</code> What is enclave identity described in the paper? <code>(Papers.SGX.0419.md)</code></li>
<li><code>[10:19]</code> What is data structure of enclave identity in C language? <code>(Papers.SGX.0419.md)</code></li>
<li><code>[10:31]</code> Where does the paper describe "The enclave identity is a combination of the MRENCLAVE value"? <code>(Papers.SGX.0419.md)</code></li>
<li><code>[10:36]</code> Who does generate MRSIGNER? <code>(Papers.SGX.0419.md)</code></li>
<li><code>[10:55]</code> When does the enclave builder enroll SIGSTRUCT into hardware? <code>(Papers.SGX.0419.md)</code></li>
<li><code>[10:57]</code> Please explain the sentence in the paper: "The enclave builder presents the hardware with an RSA signed enclave certificate (SIGSTRUCT)" <code>(Papers.SGX.0419.md)</code></li>
<li><code>[10:59]</code> Please explain the sentence in the paper: "The enclave builder presents the hardware with an RSA signed enclave certificate (SIGSTRUCT)" and list the steps. <code>(Papers.SGX.0419.md)</code></li>
<li><code>[11:19]</code> What is Sealing Key? <code>(Papers.SGX.0419.md)</code></li>
<li><code>[11:30]</code> How does "Sealing to the Sealing Identity" work? Please list steps. <code>(Papers.SGX.0419.md)</code></li>
<li><code>[11:32]</code> Please compare "Sealing to the Enclave Identity" and "Sealing to the Sealing Identity" in a table. <code>(Papers.SGX.0419.md)</code></li>
<li><code>[14:21]</code> Does Intel EPID require TPM? <code>(Papers.SGX.0419.md)</code></li>
</ul>
</li>
<li>Slides.SGX.0420.md<ul>
<li><code>[14:36]</code> Below slideshow is "Intro to Intel SGX" ... ... <code>(Slides.SGX.0420.md)</code></li>
<li><code>[14:39]</code> Why is Intel SGX not suited for password managers? <code>(Slides.SGX.0420.md)</code></li>
<li><code>[15:01]</code> What does "size of TCB" mean? <code>(Slides.SGX.0420.md)</code></li>
<li><code>[15:06]</code> What is "accountable decryption"? <code>(Slides.SGX.0420.md)</code></li>
<li><code>[15:10]</code> What is "Launch Enclave"? <code>(Slides.SGX.0420.md)</code></li>
<li><code>[15:11]</code> Is Launch Enclave a software? <code>(Slides.SGX.0420.md)</code></li>
<li><code>[15:12]</code> Does  Launch Enclave  run in OS? <code>(Slides.SGX.0420.md)</code></li>
<li><code>[15:13]</code> Does the binary of Launch Enclave exits in BIOS or ME? <code>(Slides.SGX.0420.md)</code></li>
<li><code>[15:16]</code> Is Launch Enclave provided by another vendor (No Intel)? <code>(Slides.SGX.0420.md)</code></li>
<li><code>[16:03]</code> What is endorsement key? <code>(Slides.SGX.0420.md)</code></li>
<li><code>[16:14]</code> How does the Solution 1 "Privacy CA for provisioning ak" work? Please list the steps. <code>(Slides.SGX.0420.md)</code></li>
<li><code>[16:16]</code> How does the Solution 1 "Privacy CA for provisioning ak" work with Intel SGX? Please list the steps. <code>(Slides.SGX.0420.md)</code></li>
<li><code>[16:18]</code> What is "Privacy CA"? <code>(Slides.SGX.0420.md)</code></li>
</ul>
</li>
</ul>
<hr />
<h1>Q &amp; A</h1>
<h2>SGX.0418.md</h2>
<p><strong>Question:</strong> Is secure boot a hardware or software attestation?</p>
<p><strong>Answer:</strong></p>
<p>Secure Boot can be considered a form of hardware-based attestation, as it relies on the hardware components of a system to ensure the integrity of the boot process. It leverages the capabilities of a Trusted Platform Module (TPM) or similar security hardware to verify the digital signatures of firmware, boot loaders, and operating system components. This ensures that only trusted software is executed during the boot process.</p>
<p>However, Secure Boot also involves software components, such as firmware, boot loaders, and digital signature verification routines. So, while it is primarily hardware-based attestation, it also relies on software to perform certain tasks and checks.</p>
<hr />
<p><strong>Question:</strong> Is UEFI Secure Boot a hardware or software attestation?</p>
<p><strong>Answer:</strong></p>
<p>UEFI Secure Boot is a mixture of both hardware and software attestation. It is a security feature built into the Unified Extensible Firmware Interface (UEFI) firmware, which is the software component that initializes the hardware during the boot process.</p>
<p>Secure Boot relies on hardware components, such as a Trusted Platform Module (TPM) or other security hardware, to store and manage cryptographic keys used for verifying digital signatures of firmware, boot loaders, and operating system components.</p>
<p>At the same time, it also involves software components, including the UEFI firmware itself, boot loaders, and digital signature verification routines. These components work together to ensure that only trusted and authorized software is executed during the boot process.</p>
<p>In summary, UEFI Secure Boot can be considered a combination of hardware and software attestation, as it uses both types of components to provide a secure boot environment.</p>
<hr />
<p><strong>Question:</strong> Do you mean that UEFI Secure Boot requires TPM?</p>
<p><strong>Answer:</strong></p>
<p>I apologize for any confusion. UEFI Secure Boot does not strictly require a Trusted Platform Module (TPM). However, a TPM can be used in conjunction with UEFI Secure Boot to enhance security and provide additional functionality.</p>
<p>UEFI Secure Boot primarily focuses on verifying the digital signatures of firmware, boot loaders, and operating system components to ensure that only trusted and authorized software is executed during the boot process. This verification process can be carried out without the need for a TPM.</p>
<p>That said, a TPM can be used to securely store and manage cryptographic keys and attest to the integrity of the boot process, providing a hardware root of trust. When used in combination with UEFI Secure Boot, a TPM can enhance security by offering additional features, such as measuring the boot process, providing a secure way to store cryptographic keys, and supporting remote attestation.</p>
<p>In summary, while UEFI Secure Boot does not require a TPM, the two can be used together to provide a more secure boot environment.</p>
<hr />
<p><strong>Question:</strong> What is enclave in Intel SGX?</p>
<p><strong>Answer:</strong></p>
<p>An enclave in the context of Intel Software Guard Extensions (SGX) is a protected region of memory within the application's address space. This region is isolated and secured from other processes running on the same system, including privileged processes and the operating system itself. The primary purpose of an enclave is to provide a secure environment for executing sensitive code and processing sensitive data.</p>
<p>When an application creates an enclave, the SGX hardware creates a secure container that encrypts the enclave's memory. This encrypted memory can only be accessed by the enclave's code, and even the operating system or hypervisor cannot directly access it. Enclaves also have their own isolated execution environment, which helps protect against side-channel attacks and other threats.</p>
<p>Developers can use Intel SGX to create enclaves for various purposes, such as secure key management, encrypted data storage, or privacy-preserving computation. Enclaves are useful for protecting sensitive code and data from potential threats, ensuring the confidentiality and integrity of the data being processed.</p>
<hr />
<p><strong>Question:</strong> Which key is encrypt memory encrypted by?</p>
<p><strong>Answer:</strong></p>
<p>In Intel SGX, the memory of an enclave is encrypted using a key called the Memory Encryption Engine Key (MEE-K). This key is hardware-generated and unique to each processor. The MEE-K is not accessible to software, ensuring the confidentiality and integrity of the enclave's memory.</p>
<hr />
<p><strong>Question:</strong> How does CPU run code in the encrypted memory in enclave?</p>
<p><strong>Answer:</strong></p>
<p>When the CPU executes code inside an enclave, it decrypts the memory contents on-the-fly using the Memory Encryption Engine (MEE) integrated into the CPU. This process is transparent to the software running inside the enclave.</p>
<p>When data is read from the enclave memory, the MEE decrypts it before passing it to the CPU for processing. When data is written back to the enclave memory, the MEE encrypts it before storing it. This encryption and decryption process is done in real-time and ensures that the code and data inside the enclave are protected from unauthorized access or tampering, even if an attacker has physical access to the system memory.</p>
<hr />
<p><strong>Question:</strong> What is MRSIGNER?</p>
<p><strong>Answer:</strong></p>
<p>MRSIGNER is a term used in the context of Intel SGX (Software Guard Extensions) to refer to the measurement of the signer of an enclave. It is a 256-bit hash value that represents the public key of the signer who created and signed the enclave. This value is stored within the enclave's metadata and is part of the enclave's identity.</p>
<p>MRSIGNER is used during the attestation process to ensure that the enclave was created by a trusted party. During attestation, the MRSIGNER value is checked against a list of trusted signer public keys to determine whether the enclave's creator is trusted. If the MRSIGNER matches one of the trusted public keys, the attestation can proceed, indicating that the enclave is genuine and created by a trusted party.</p>
<hr />
<p><strong>Question:</strong> Who does generate MRSIGNER?</p>
<p><strong>Answer:</strong></p>
<p>MRSIGNER is generated by the enclave's developer or creator. The developer creates the enclave code and then signs it using their private key. The MRSIGNER value is a hash of the public key that corresponds to the private key used for signing the enclave.</p>
<p>During the build process, the enclave's code, data, and metadata are combined, and a measurement of the enclave's contents (MRENCLAVE) is calculated. The developer then signs the measurement and other metadata with their private key, creating a signature. The corresponding public key is hashed to generate the MRSIGNER value, which is stored as part of the enclave's metadata.</p>
<p>When the enclave is loaded and initialized, the MRSIGNER value is checked during the attestation process to verify the enclave's origin and ensure that it was created by a trusted party.</p>
<hr />
<p><strong>Question:</strong> So the MRSIGNER value is generated in offline not at runtime. Right?</p>
<p><strong>Answer:</strong></p>
<p>Yes, that's correct. The MRSIGNER value is generated offline during the enclave build process, not at runtime. The enclave developer signs the enclave with their private key, and the corresponding public key is hashed to generate the MRSIGNER value. This value is then stored as part of the enclave's metadata.</p>
<p>During runtime, the attestation process uses the MRSIGNER value to verify the enclave's origin and ensure that it was created by a trusted party. The value is not generated or altered during runtime.</p>
<hr />
<p><strong>Question:</strong> Where is the private key stored?</p>
<p><strong>Answer:</strong></p>
<p>The private key used to sign an enclave is typically stored securely by the enclave developer or their organization. It is crucial to keep the private key confidential to prevent unauthorized access or modification of the enclave software.</p>
<p>In practice, private keys may be stored in various secure storage solutions, such as hardware security modules (HSMs), encrypted storage, or secure key management systems. The choice of storage depends on the specific security requirements and policies of the organization responsible for the enclave.</p>
<hr />
<p><strong>Question:</strong> Does Intel EPID require TPM?</p>
<p><strong>Answer:</strong></p>
<p>Intel EPID (Enhanced Privacy ID) does not require a Trusted Platform Module (TPM) to function. EPID is a separate privacy-preserving technology designed for remote attestation and device authentication in a scalable and anonymous manner.</p>
<p>Although both Intel EPID and TPM provide security features, they serve different purposes and can be used independently or in conjunction with each other, depending on the specific use case and security requirements of a system.</p>
<hr />
<p><strong>Question:</strong> How is EPID keys enrolled into a device?</p>
<p><strong>Answer:</strong></p>
<p>The EPID keys are enrolled into a device during its manufacturing process. Here's an outline of the typical EPID key enrollment process:</p>
<ol>
<li>
<p>Device manufacturer generates an EPID private key and public key pair for each device during the manufacturing process.</p>
</li>
<li>
<p>The device manufacturer contacts the EPID Issuer (which is responsible for managing EPID keys). The manufacturer provides the device's public key and a unique device identifier.</p>
</li>
<li>
<p>The EPID Issuer validates the authenticity of the device manufacturer and the device public key. After validation, the EPID Issuer issues a certificate (also known as an EPID signature) that binds the device's public key to its unique identifier. The certificate serves as proof that the device's public key is part of the EPID group.</p>
</li>
<li>
<p>The device manufacturer then securely stores the EPID private key and the corresponding certificate within the device, typically in a protected storage area.</p>
</li>
</ol>
<p>The enrollment process ensures that each device has a unique EPID key pair and a valid certificate. The private key is securely stored within the device and is used for signing attestation requests, while the public key can be used by remote parties to verify the authenticity of the device's attestation signatures.</p>
<hr />
<p><strong>Question:</strong> Can a program in an enclave see outside?</p>
<p><strong>Answer:</strong></p>
<p>A program running inside an Intel SGX enclave cannot directly access memory outside the enclave. The enclave's memory is isolated from the rest of the system, including other processes and even the operating system. This isolation helps protect the confidentiality and integrity of the data and code within the enclave.</p>
<p>However, an enclave program can communicate with the outside world through well-defined interfaces. The enclave can expose secure entry points, called e-calls, that allow the application outside the enclave to call functions within the enclave. Similarly, the enclave can make o-calls to interact with the outside world, for example, to request external services or perform I/O operations.</p>
<p>These interactions must be carefully designed to avoid leaking sensitive information or exposing vulnerabilities. Data passed between the enclave and the external environment should be appropriately encrypted and authenticated to protect it from unauthorized access or tampering. Additionally, the enclave's exposed interfaces should be minimal and thoroughly reviewed to ensure their security.</p>
<hr />
<h2>Papers.SGX.0419.md</h2>
<p><strong>Question:</strong> What is enclave identity described in the paper?</p>
<p><strong>Answer:</strong></p>
<p>In the paper, the term "enclave identity" refers to the unique identifier associated with an enclave. The enclave identity is a combination of the MRENCLAVE value, which represents the enclave's code and data, and the MRSIGNER value, which represents the enclave's signer or the entity that signed the enclave.</p>
<p>The enclave identity is used in various security policies, such as attestation and sealing. For example, when an enclave wants to attest its identity to a remote party, it provides a REPORT containing the MRENCLAVE and MRSIGNER values as part of the attestation process. Similarly, when sealing data, the sealing policy may be based on the enclave identity to ensure that the sealed data can only be accessed by specific enclaves with matching MRENCLAVE and/or MRSIGNER values.</p>
<p>In summary, the enclave identity in the paper is a combination of MRENCLAVE and MRSIGNER values that uniquely identify an enclave, and it is used in various security policies and operations related to attestation and sealing.</p>
<hr />
<p><strong>Question:</strong> What is data structure of enclave identity in C language?</p>
<p><strong>Answer:</strong></p>
<p>In the paper, the term "enclave identity" refers to the unique combination of MRENCLAVE and MRSIGNER values associated with an enclave. MRENCLAVE is the hash of the enclave's initial code and data, while MRSIGNER is the public key of the entity that signed the enclave. Together, these two values provide a unique identifier for the enclave, which can be used for attestation, sealing, and other security-related purposes.</p>
<p>The paper discusses two different sealing policies based on the enclave identity:</p>
<ol>
<li>
<p>Sealing to the Enclave Identity: In this policy, the sealing key is derived from the MRENCLAVE value. This means that the sealed data can only be unsealed by an enclave with the same code and data. This policy is useful when you want to restrict access to sealed data to a specific version of an enclave.</p>
</li>
<li>
<p>Sealing to the Sealing Authority: In this policy, the sealing key is derived from the MRSIGNER value. This allows enclaves signed by the same authority to share sealed data, even if their code and data are different. This policy is useful when you want to allow multiple enclaves signed by the same entity to access the same sealed data.</p>
</li>
</ol>
<p>In both cases, the enclave identity plays a crucial role in determining access to sealed data and serves as the foundation for secure enclave communication and data protection.</p>
<hr />
<p><strong>Question:</strong> Where does the paper describe "The enclave identity is a combination of the MRENCLAVE value"?</p>
<p><strong>Answer:</strong></p>
<p>Apologies for the confusion earlier. The paper does not explicitly state that "the enclave identity is a combination of the MRENCLAVE value." The paper discusses MRENCLAVE and MRSIGNER separately in various contexts.</p>
<p>In the context of sealing data, the paper states the following in section 4.4: "The enclave author can define policies for sealing. Some example policies are sealing to the enclave identity, sealing to the signing identity, sealing to the platform." In this context, the enclave identity refers to MRENCLAVE, and the signing identity refers to MRSIGNER. They are used separately for different sealing policies.</p>
<p>So, the paper does not explicitly define "enclave identity" as a combination of MRENCLAVE and MRSIGNER. It refers to them separately for various purposes, and my previous response was incorrect in that regard.</p>
<hr />
<p><strong>Question:</strong> Who does generate MRSIGNER?</p>
<p><strong>Answer:</strong></p>
<p>MRSIGNER is generated when an enclave is built and signed. The enclave developer or author writes the enclave code and compiles it. After that, the developer signs the enclave binary using their private key. The MRSIGNER value is the hash of the public key corresponding to the private key used to sign the enclave.</p>
<p>In summary, MRSIGNER is generated by the enclave developer or author during the enclave signing process, and it represents the identity of the enclave signer.</p>
<hr />
<p><strong>Question:</strong> When does the enclave builder enroll SIGSTRUCT into hardware?</p>
<p><strong>Answer:</strong></p>
<p>The enclave builder does not enroll the SIGSTRUCT into hardware. Instead, when an enclave is loaded and initialized, the system will verify the SIGSTRUCT as part of the enclave's initialization process. The Intel SGX hardware checks the enclave's signature and other attributes to ensure the enclave is valid and meets the necessary security requirements.</p>
<p>During this process, the Intel SGX hardware will use the information in the SIGSTRUCT to set the MRSIGNER register inside the enclave. The MRSIGNER register will hold the identity of the enclave signer, which can be used for attestation and other security-related purposes.</p>
<hr />
<p><strong>Question:</strong> Please explain the sentence in the paper: "The enclave builder presents the hardware with an RSA signed enclave certificate (SIGSTRUCT)"</p>
<p><strong>Answer:</strong></p>
<p>The sentence "The enclave builder presents the hardware with an RSA signed enclave certificate (SIGSTRUCT)" in the paper refers to the process of loading and initializing an enclave. When an enclave is created, the enclave builder is responsible for generating the SIGSTRUCT, which is an RSA-signed enclave certificate containing important information about the enclave, such as the measurement of the enclave code (MRENCLAVE), the measurement of the enclave signer (MRSIGNER), and various attributes.</p>
<p>During the enclave loading and initialization process, the enclave builder provides the SIGSTRUCT to the Intel SGX hardware. The hardware then verifies the SIGSTRUCT to ensure the enclave's authenticity and integrity. This verification process includes checking the RSA signature of the SIGSTRUCT, as well as other attributes and measurements. If the verification is successful, the hardware will allow the enclave to be loaded and initialized, and the enclave can begin secure execution.</p>
<hr />
<p><strong>Question:</strong> Please explain the sentence in the paper: "The enclave builder presents the hardware with an RSA signed enclave certificate (SIGSTRUCT)" and list the steps.</p>
<p><strong>Answer:</strong></p>
<p>The sentence "The enclave builder presents the hardware with an RSA signed enclave certificate (SIGSTRUCT)" describes a step in the process of creating, loading, and initializing an enclave in the Intel SGX architecture. Let's break down the steps involved:</p>
<ol>
<li>
<p>Enclave Creation: The enclave developer writes the enclave code and prepares it for execution in a secure environment provided by the Intel SGX.</p>
</li>
<li>
<p>Enclave Signing: The enclave developer or a trusted authority signs the enclave using a private key, generating a SIGSTRUCT, which is an RSA-signed enclave certificate. The SIGSTRUCT contains important information about the enclave, such as the MRENCLAVE (measurement of the enclave code), MRSIGNER (measurement of the enclave signer), and various attributes.</p>
</li>
<li>
<p>Enclave Loading: The enclave builder prepares the enclave for loading into the SGX-enabled hardware. This includes setting up the memory layout, copying the enclave code into the secure enclave memory, and preparing any necessary data structures.</p>
</li>
<li>
<p>Presenting SIGSTRUCT to Hardware: In the step described by the sentence, the enclave builder presents the hardware with the SIGSTRUCT. This step is necessary for the hardware to verify the authenticity and integrity of the enclave.</p>
</li>
<li>
<p>Verification by Hardware: The Intel SGX hardware verifies the SIGSTRUCT by checking the RSA signature, the MRENCLAVE, the MRSIGNER, and other attributes. If the verification is successful, the hardware determines that the enclave is authentic and has not been tampered with.</p>
</li>
<li>
<p>Enclave Initialization: If the verification is successful, the hardware initializes the enclave, setting up the necessary runtime environment for the enclave code to execute securely.</p>
</li>
<li>
<p>Secure Execution: Once the enclave is initialized, it can begin secure execution within the protected environment provided by the Intel SGX architecture.</p>
</li>
</ol>
<hr />
<p><strong>Question:</strong> What is Sealing Key?</p>
<p><strong>Answer:</strong></p>
<p>A Sealing Key is a cryptographic key used in Intel SGX (Software Guard Extensions) to protect sensitive data in the context of an enclave. The purpose of the sealing key is to encrypt and decrypt (or "seal" and "unseal") the data, ensuring that it remains confidential and can only be accessed by the enclave that generated the sealing key or other authorized enclaves.</p>
<p>Sealing keys are derived from a combination of the enclave's identity (MRENCLAVE or MRSIGNER) and the platform-specific key material. This ensures that the sealing keys are unique to a particular enclave and the platform it is running on.</p>
<p>In the Intel SGX architecture, sealing keys are used for the following purposes:</p>
<ol>
<li>
<p>Confidentiality: Ensuring that the sensitive data remains confidential and is not accessible to unauthorized entities, including other enclaves, applications, or the operating system.</p>
</li>
<li>
<p>Integrity: Protecting the sensitive data from unauthorized modifications and ensuring that it remains consistent and unaltered.</p>
</li>
<li>
<p>Binding: Tying the sensitive data to a specific enclave or group of enclaves, ensuring that only authorized enclaves can access the data.</p>
</li>
</ol>
<p>The sealing and unsealing processes are critical to the overall security of Intel SGX, as they ensure that sensitive data remains protected even when it is stored outside the secure enclave memory or transmitted between enclaves.</p>
<hr />
<p><strong>Question:</strong> How does "Sealing to the Sealing Identity" work? Please list steps.</p>
<p><strong>Answer:</strong></p>
<p>"Sealing to the Sealing Identity" refers to the process of encrypting data with a sealing key that is derived from the enclave's identity. This ensures that the sealed data can only be accessed by the same enclave or other authorized enclaves that share the same identity. Here are the steps involved in this process:</p>
<ol>
<li>
<p>Determine the Sealing Identity: The sealing identity is typically a combination of the MRENCLAVE (measurement of the enclave code and data) or MRSIGNER (measurement of the enclave signer) values. It is used as the basis for generating the sealing key.</p>
</li>
<li>
<p>Generate the Sealing Key: The enclave requests a sealing key from the Intel SGX hardware using the EGETKEY instruction. The key is derived from the sealing identity, the platform-specific key material, and the enclave's attributes. This ensures that the sealing key is unique to the enclave and the platform it runs on.</p>
</li>
<li>
<p>Encrypt the Data: The enclave uses the sealing key to encrypt the sensitive data. This process is known as "sealing." It ensures that the data remains confidential and can only be accessed by the enclave that generated the sealing key or other authorized enclaves.</p>
</li>
<li>
<p>Store the Sealed Data: The sealed data can be stored outside the enclave, either in the application's untrusted memory or in a persistent storage location such as a disk file. Since the data is encrypted, it remains protected even when stored outside the secure enclave memory.</p>
</li>
<li>
<p>Unseal the Data: When the enclave or another authorized enclave with the same identity needs to access the sealed data, it follows a similar process to generate the sealing key using the EGETKEY instruction. With the sealing key, the enclave can decrypt and access the sealed data.</p>
</li>
<li>
<p>Verify Integrity: Optionally, the sealing process can also include a message authentication code (MAC) or digital signature to ensure the integrity of the sealed data. During the unsealing process, the enclave verifies the MAC or digital signature to ensure that the data has not been tampered with.</p>
</li>
</ol>
<p>By following these steps, "Sealing to the Sealing Identity" ensures that sensitive data remains confidential and can only be accessed by authorized enclaves that share the same identity. This provides a secure way to store and share data between enclaves and protect it from unauthorized access or tampering.</p>
<hr />
<p><strong>Question:</strong> Please compare "Sealing to the Enclave Identity" and "Sealing to the Sealing Identity" in a table.</p>
<p><strong>Answer:</strong></p>
<p>Here is a comparison table of "Sealing to the Enclave Identity" and "Sealing to the Sealing Identity":</p>
<p>| Aspect                           | Sealing to the Enclave Identity   | Sealing to the Sealing Identity   |
|----------------------------------|-----------------------------------|-----------------------------------|
| Identity Basis                   | MRENCLAVE                         | MRENCLAVE or MRSIGNER             |
| Enclave Measurement              | Unique to each enclave build      | Shared by same signer or enclave  |
| Key Derivation                   | Based on MRENCLAVE                | Based on MRENCLAVE or MRSIGNER    |
| Use Case                         | Specific enclave instance         | Enclaves with same identity       |
| Data Accessibility               | Limited to the specific enclave   | Accessible by authorized enclaves |
| Flexibility                      | Lower, tied to a single enclave   | Higher, shared among same identity|
| Software Update Considerations   | Need to migrate data to new MRENCLAVE | Easier with same MRSIGNER         |</p>
<p>In summary, "Sealing to the Enclave Identity" provides more restrictive access to sealed data, ensuring that it can only be accessed by a specific enclave instance. This method is suitable for scenarios where data must be strictly protected and accessible only to that specific enclave.</p>
<p>On the other hand, "Sealing to the Sealing Identity" allows for more flexibility in data access among enclaves with the same identity, which can be based on MRENCLAVE or MRSIGNER. This method is suitable for scenarios where multiple enclaves need to access shared data or when enclaves have a common signer, such as when dealing with software updates or versions.</p>
<hr />
<p><strong>Question:</strong> Does Intel EPID require TPM?</p>
<p><strong>Answer:</strong></p>
<p>No, Intel Enhanced Privacy ID (EPID) does not require a Trusted Platform Module (TPM). EPID is a privacy-preserving digital signature scheme developed by Intel, and it is designed to be used independently of a TPM. EPID can provide secure device authentication without revealing unique device identities, which is particularly useful for IoT devices.</p>
<p>EPID and TPM are two separate technologies that can be used for different purposes. TPM is a hardware-based security module that provides a secure environment for storing sensitive data and performing cryptographic operations. It is used for various purposes, such as secure boot, attestation, and key management.</p>
<p>In the context of Intel SGX, EPID is used for remote attestation to prove the integrity and identity of an enclave to a remote party without exposing the unique device identity. While both EPID and TPM can be used for attestation, they are separate technologies and do not depend on each other.</p>
<hr />
<h2>Slides.SGX.0420.md</h2>
<p><strong>Question:</strong></p>
<pre><code>Below slideshow is "Intro to Intel SGX"

1
Intro to Intel SGX
(Binding keys to programs using
Intel SGX remote attestation)
Mark D. Ryan
Secure Implementation of Cryptographic Software
Metochi, Lesbos, Greece  August 2017

2
Intel SGX
Intel SGX is a set of processor instructions which
allow one:
 To set up an enclave (code &amp; memory) such that
the code runs in a way that it and its memory are
protected from interference from the OS and other
software
 To securely report the state of the enclave, locally
and remotely
Present on all (major) Intel processors from Skylake
(2015) onwards

3
Not the first
hardware security anchor
ARM TrustZone
 ARM processors have
two execution modes,
with hardwareenforced
access
control between them:
 Normal world
Runs the rich OS
(e.g., Android) and
apps
 Secure world
Runs securitycritical
code.
Trusted platform module (TPM)
 Version 1 (2004), 1.2 (2008),
2.0 (2014-)
 Separate chip soldered to motherboard
 API that allows you to create keys
whose secret part never leaves the
TPM
 A key can be locked to authdata
(like a password to use the key)
 And/or can be locked to PCR
values, which measure the boot
sequence
Best known use: Microsoft Bitlocker

4
Intel SGX: attacks addressed
An enclave within an app is protected from
interference from other software, including the OS
and VMM. Note that enclaves can only run in ring
3 (user space).

5
Intel SGX: attacks not addressed
 Side-channel attacks
Cache and page access patterns
 Extraction of RSA secret keys, under assumptions,
by co-located [enclave] processes
 Programmer is expected to mitigate this attack
 Hardware attacks
 Chip decapsulation
 Trojan hardware: vulnerabilities possibly introduced
in the supply chain

6
Intel SGX
Well suited for:
 Cloud computing (reverse
DRM), in which your device
sends data to a cloud
server, and you want to
impose restrictions on how it
is processed
Not suited for:
 Applications that involve I/O on
the platform
 Password managers
 Banking apps
Partly suited for:
 DRM, where a server delivers
content to your device, along
with restrictions on how you
use it
Discussion 1: What about sidechannel
attacks?

7
Alice
cloud user
data d
Bob
cloud server
program P
data d
Decrypt {d}k
apply P to d, d
update d
Encrypt P(d, d)
Bob cannot access d except by applying P to
it and returning that to Alice.
In general, Bob does not know d, d or k, k
Bob does know P
{d}k
{P(d,d)}k
Example: confidentiality from
the cloud provider
Discussion 2: What other approaches to solving the
confidentiality from the cloud problem are you aware of?

8
Other approaches to
solving this problem
Crypto
 Fully homomorphic encryption
 Functional encryption
 Multi-party computation
 White-box crypto
 Indistinguishability obfuscation
Challenges
 Restrictions on the program P
 Use-case restrictions
 Performance
Hardware
 TPM &amp; Intel TXT
 ARM Trustzone
Challenges
 Requirement to trust HW
design and implementation
 Size of TCB
 Business model
 Documentation

9
User
key k
sensitive data d1, d2, ...
Service Provider Blockchain
chain hash h
enters into blockchain
new chain hash h
SGX enclave
key k
chain hash h
Verifies h, , 
Decrypts e
{d1}k
e = {d156}k
Example
Escrow with accountability (accountable decryption)
Use case: user uploads her encrypted location continually;
SP decrypts it only when she reports lost phone.
{d2}k
{d3}k
.:
h, :eh
:h&lt;h
e, h, , 
deck(e)

10
Intel SGX concepts
Protected memory
 Enclave Page Cache (EPC), access control, MEE
Enclave
 SGX enclave control structure (SECS)
 Core data about the enclave, held in a dedicated
EPC page.
 Life cycle of an enclave
 Creation / loading / initialisation (aka launching) /
teardown

11
Intel SGX concepts
Enclave measurement
 An enclave measurement (noted MRENCLAVE) is a hash of its
code and initial data
Enclave identity
 MRENCLAVE: Its measurement is the strictest way to identify an
enclave.
 MRSIGNER: An enclave certificate is a more flexible way to
identify an enclave. The certificate is signed by the independent
software vendor (ISV), and includes ISVPRODID and ISVSVN.
 Allows data migration from old security versions to new ones.

12
Intel SGX concepts
Processor instructions
 ECREATE, EADD, EEXTEND, EINIT,  : managing the
enclave life cycle
 EGETKEY, EREPORT,  : managing data within an enclave.
Intel-provided enclaves
 Launch enclave
 Provisioning enclave
 Quoting enclave

13
Intel SGX secret values
Some secret values are built into the platform.
Known to the processor and to Intel:
 SGX Master derivation key
 Derived from provisioning secret
Known to theprocessor (but not to Intel)
 Seal secret (also known as SEAL_FUSES)
 OWNER_EPOCH

14
Setting up an enclave
 System software uses ECREATE to set up the initial memory
page allocated to the enclave, which contains the SGX Enclave
Control Structure (SECS)
 It uses EADD to allocate further pages containing enclave code
and initial data
 It uses EEXTEND to update the enclaves measurement
 After loading the initial code and data pages into the enclave, the
system uses a Launch Enclave (LE) to obtain an EINIT token
 The token is provided to the EINIT instruction to initialise the
enclave
 LE is a privileged enclave provided (e.g.) by Intel, signed by
and Intel private key

15
Initialising an enclave (more detail)
Untrusted system software sets up SECS and the enclave
certificate SIGSTRUCT
A launch enclave
 checks the enclave certificate SIGSTRUCT against SECS
 checks the launch policy
 produces EINITTOKEN
 Produces the EINITTOKEN MAC using a launch key obtained using
EGETKEY
The processor instruction EINIT checks EINITTOKEN and initialises the enclave
SECS
MRENCLAVE
MRSIGNER
ATTRIBUTES
- DEBUG
- XFRM
ISVPRODID
ISVSVN
SIGSTRUCT
ENCLAVEHOST
VENDOR
ATTRIBUTES
ATTRIBUTEMASK
ISVPRODID
ISVSVN
signature
EINITTOKEN
MRENCLAVE
MRSIGNER
ATTRIBUTES
launch enclave info
MAC

16
What an enclave can do
 Computations
 Access its own [encrypted] memory
 Access app memory
 Communicate with user, but insecurely
 Communicate with another party, which can be secure if the enclave
shares a key with the other party
 Attest its identity (a hash of its binary and initial data) to another party
 Seal data, i.e. encrypt data with a key that only it can access, for
persistent storage
 Can use Platform Service Enclave (PSE) for trusted time and
monotonic counter
 Teardown
Enclave
App Memory
Discussion 3: Given this list, what applications of
SGX make sense?

17
Seal keys obtained using EGETKEY
Key request KEYNAME e.g. seal key, report key, provisioning key
KEYID
KEYPOLICY MRENCLAVE and/or MRSIGNER
ATTRIBUTEMASK
ISVSVN must be  the callers ISVSVN
CPUSVN must be  the calling platforms CPUSVN
AES-CMAC
SGX Master
Derivation key
(known to Intel)
128-bit key
MRENCLAVE
dep. on KEYPOLICY
MRSIGNER
dep. on KEYPOLICY
MASKEDATTRIBUTES
OWNEREPOCH
set by platform owner
SEALFUSES
not known to Intel
KEYID
ISVPRODID KEYNAME ISVSVN CPUSVN
KDF

18
Migrating data between enclaves
 Discussion 4:
 Can a sealed blob made in an enclave be migrated to a
different enclave on the same platform and decrypted by that
other enclave?
 Can a sealed blob made in an enclave be migrated to an
identical enclave (same MRENCLAVE/MRSIGNER) on a
different platform and decrypted by that other enclave?

19
Migrating data between enclaves
 Discussion 4:
 Can a sealed blob made in an enclave be migrated to a
different enclave on the same platform and decrypted by that
other enclave?
In general, no! (It would be insecure if that was possible).
But, yes if the new enclave is a security update of the old
one, and the seal key had KEYPOLICY=MRSIGNER.
 Can a sealed blob made in an enclave be migrated to an
identical enclave (same MRENCLAVE/MRSIGNER) on a
different platform and decrypted by that other enclave?
No. Sealed blobs are encrypted with keys built from platformspecific
secrets. If you want this kind of migration, you need
to use remote attestation.

20
Migrating data between enclaves
 Same platform, same enclave (just a different instance):
 Sealed blob can migrate.
 Same platform, different enclave:
 If its a newer security version of the same ISVPRODID, and
the KEYPOLICY is set to MRSIGNER, then the sealed blob
can be migrated.
 More generally, the EREPORT mechanism can be used to
set up a secure channel between two arbitrary enclaves on
the same platform
 Different platform, same or different enclave:
 Need remote attestation.

21
Remote attestation
 How can a remote party know that it is talking to a given
enclave?
 An enclave is identified by MRENCLAVE [strict] or by
MRSIGNER/ISVPRODID [more flexible]
 How can a remote party know that a given key can be used
exclusively by a given enclave?
 My talk title: Binding keys to programs...
Discussion 5: How would you to design this feature?

22
SGX service
attestation key ak
Enclave
generates pk
App Relying party
verifies attestation
Simple remote attestation
Platform with SGX has an attestation signing key ak, and
Intel has certified it : platform_cert := signIntel(pub(ak))
pk
enclave_cert :=
signak(pk, MRENCLAVE)
platform_cert, enclave_cert
{secret}pk
enclave_cert
{secret}pk

23
Privacy concern: not acceptable because RP can identify
(using platform cert) which platform it is interacting with
This concern is not applicable if the attestation is that of a
cloud service: cloud services do not require privacy
Solution 1: Privacy CA for provisioning ak
Solution 2: Direct anonymous attestation (DAA)
SGX service
endorsement key ek
generates ak
Decrypt enc_ak_cert
Intel
check ek
Objection 1: privacy concern
pub(ak), ek
enc_ak_cert := {signIntel(pub(ak))}ek

24
Intel would like to be able to revoke platform attestation keys if:
 Revocation based on private key:
the private part is seen in the wild (e.g. published on the
Internet), or
 Revocation based on signature:
the key is perceived as signing erratically
Possible solutions
 Certificate revocation-list checking, or
 Short-lived certificates, that must be renewed periodically
(e.g., every month)
Objection 2: revocation concern

25
Issuer: gpk, isk
Join: Pi obtains ski by interacting with issuer
Sign:  = sign (m); or (if ski is revoked)  = 
Verify: Verify(gpk, m, PrivRL, SigRL, ) = valid or invalid
Revoke:
 RevokePriv (gpk, ski)
 checks ski, and
 adds ski to PrivRL
 RevokeSig (gpk, PrivRL, m, )
 verifies , and
 adds  to SigRL
EPID Signatures and Verification
ski
gpk, sigRL

26
Provisioning the attestation key
 A provisioning enclave uses EGETKEY to obtain a
symmetric provisioning key which Intel can also compute
 It runs the EPID join protocol with Intel (protected by the
provisioning key), obtaining its attestation signing key
 It uses EGETKEY to obtain a provisioning seal key and
stores the attestation key encrypted by the provisioning
seal key
Remote attestation

27
Producing a REPORT
 The attesting enclave uses EREPORT to produce a report
structure, MACd with a report key
 The report is passed to a quoting enclave
Quoting the report
 The quoting enclave uses EGETKEY to obtain a report
key to check the report MAC
 It uses EGETKEY to obtain a provisioning seal key to
decrypt the attestation key
 It uses the attestation key to sign the report (along with a
received challenge)
Remote attestation

28
SGX service Enclave App Relying party
Simple remote attestation

29
SGX service Enclave App RP IAS
Intels remote attestation

30
S. M. Kim, J. Han, J. Ha, T. Kim, D. Han. Enhancing Security and
Privacy of Tors Ecosystem by Using rusted Execution Environments.
USENIX NDSI, 2017.
F. Schuster, M. Costa, D. Fournet, C. Gkantsidis, M. Peinado, G.
Mainar-Ruiz, M. Russinovich. VC3: Trustworthy Data Analytics in the
Cloud Using SGX. IEEE S&amp;P, 2015.
M. D. Ryan. Making Decryption Accountable. 25th Security Protocols
Workshop, Springer LNCS, 2017.
K. Severinson, M. D. Ryan. Accountable Decryption
Using Intel SGX. In preparation.
SGX uses in research literature

31
SGX: a powerful architecture for managing secret data
+ Enables processing of data that cannot be read by anyone, except
for code running in the enclave
+ Minimal TCB: nothing trusted except for x86 processor
+ Not suitable for applications involving user I/O, but well suited for
cloud-based applications
- Hardware and side-channel attacks
- Requires interaction with Intel at three distinct points:
 Launch approval (by platform)
 Join protocol to obtain attestation key (by platform)
 Verify protocol to verify attestation (by relying party)
- Among other objections, this is privacy-invasive
Conclusions
</code></pre>
<p><strong>Answer:</strong></p>
<p>Intel SGX (Software Guard Extensions) is a set of processor instructions that enable secure execution of code and data within protected memory regions called enclaves. These enclaves are designed to protect code and data from unauthorized access, even by the operating system and other software. Intel SGX is particularly suited for cloud computing scenarios where data privacy and protection are essential.</p>
<p>Some key features of Intel SGX include:</p>
<ol>
<li>Enclave creation: Setting up a protected memory region that holds the code and data securely.</li>
<li>Enclave lifecycle management: Managing the creation, loading, initialization, and teardown of enclaves.</li>
<li>Identity attestation: Attesting the identity (MRENCLAVE or MRSIGNER/ISVPRODID) of an enclave to a remote party.</li>
<li>Data sealing: Encrypting data using a key that only the enclave can access, enabling secure persistent storage.</li>
<li>Remote attestation: Allowing a remote party to verify that they are communicating with a specific enclave and securely exchange data.</li>
</ol>
<p>However, Intel SGX does not protect against side-channel attacks and hardware attacks, such as chip decapsulation or vulnerabilities introduced in the supply chain.</p>
<p>Intel SGX can be used in various scenarios, such as ensuring confidentiality from cloud providers or implementing DRM (Digital Rights Management) systems. It is not well-suited for applications that involve I/O on the platform, like password managers or banking apps.</p>
<hr />
<p><strong>Question:</strong> Why is Intel SGX not suited for password managers?</p>
<p><strong>Answer:</strong></p>
<p>Intel SGX is not well-suited for password managers primarily because of its limitations in handling input/output (I/O) operations. Password managers usually require user interaction for entering master passwords, copying generated passwords, and auto-filling login forms. These actions involve I/O operations that are outside the scope of the enclave's protected environment.</p>
<p>In addition, Intel SGX is vulnerable to certain side-channel attacks, which can potentially leak sensitive information, such as passwords or encryption keys, by analyzing the access patterns of the CPU cache or other hardware resources. While Intel SGX provides strong isolation and protection against software-based attacks, it cannot completely secure applications that require sensitive I/O operations, such as password managers or banking apps.</p>
<p>However, this does not mean that Intel SGX is entirely useless for such applications. It can still be used to enhance specific aspects of these applications, like securing the storage and processing of sensitive data within the enclave. But, due to the I/O limitations and side-channel vulnerabilities, it is not a comprehensive solution for securing password managers or similar applications.</p>
<hr />
<p><strong>Question:</strong> What does "size of TCB" mean?</p>
<p><strong>Answer:</strong></p>
<p>"Size of TCB" refers to the size of the Trusted Computing Base. The Trusted Computing Base is a term used in computer security to describe the set of all hardware, firmware, and software components that are critical to a system's security. The TCB is responsible for enforcing the security policies of a system, and its integrity is crucial to maintain the overall security of the system.</p>
<p>The size of the TCB is an important consideration because it generally correlates with the potential attack surface and the complexity of the system. A smaller TCB typically indicates a more focused and manageable set of components, which can be more easily analyzed, verified, and secured. On the other hand, a larger TCB can introduce more potential vulnerabilities and make it more difficult to ensure the security of the system.</p>
<p>In the context of hardware security mechanisms, like Intel SGX, a smaller TCB may provide stronger protection against attacks, as there are fewer components that could be exploited. Reducing the size of the TCB is one of the primary goals in designing secure systems, as it helps to minimize the attack surface and the potential for security vulnerabilities.</p>
<hr />
<p><strong>Question:</strong> What is "accountable decryption"?</p>
<p><strong>Answer:</strong></p>
<p>Accountable decryption is a concept in cryptography that aims to ensure that the decryption of encrypted data can be traced back to a specific party or entity. This concept is often employed in systems where multiple parties have access to the decryption keys, and it's important to know who decrypted the data for various reasons, such as security, auditing, or legal compliance.</p>
<p>In an accountable decryption scheme, the decryption process generates a unique proof or decryption tag that can be used to identify the party responsible for the decryption. This proof or tag is often linked to the decryption key or the party's identity in a way that cannot be forged or tampered with. This allows for the attribution of decryption actions to specific parties, enabling better control and monitoring of access to sensitive information.</p>
<p>Accountable decryption can be implemented through various cryptographic techniques, including threshold cryptography, digital signatures, and zero-knowledge proofs. The choice of technique depends on the specific requirements and the overall system design.</p>
<hr />
<p><strong>Question:</strong> What is "Launch Enclave"?</p>
<p><strong>Answer:</strong></p>
<p>A Launch Enclave is a secure environment in the context of Intel Software Guard Extensions (SGX), a set of security-related instruction codes that are built into some Intel processors. The Launch Enclave is responsible for verifying and controlling the launch of other secure enclaves within the SGX environment.</p>
<p>In Intel SGX, enclaves are isolated, protected memory regions that run sensitive code and store sensitive data. They are designed to protect the confidentiality and integrity of this information from external threats, even in the presence of compromised operating systems or hardware.</p>
<p>The Launch Enclave is a special enclave provided by Intel that plays a crucial role in the SGX ecosystem. When an application wants to create and run a new enclave, it must first request the Launch Enclave to create a launch token. The Launch Enclave verifies the new enclave's identity and attributes, and if everything is in order, it creates the launch token. This token is then used by the application to launch the new enclave.</p>
<p>By controlling the launch of other enclaves, the Launch Enclave helps maintain the security and integrity of the SGX environment. It ensures that only trusted and authorized enclaves can be created and executed, thus preventing rogue enclaves from compromising the security of the system.</p>
<hr />
<p><strong>Question:</strong> Is Launch Enclave a software?</p>
<p><strong>Answer:</strong></p>
<p>Yes, the Launch Enclave is a software component provided by Intel as part of the Intel Software Guard Extensions (SGX) framework. It is designed to run within the secure environment of an Intel SGX-enabled processor.</p>
<p>The Launch Enclave is a specific enclave with predefined functionality that manages the creation and launch of other secure enclaves within the SGX environment. By acting as a gatekeeper, the Launch Enclave helps ensure that only authorized and trusted enclaves are executed, maintaining the overall security of the system.</p>
<hr />
<p><strong>Question:</strong> Does  Launch Enclave  run in OS?</p>
<p><strong>Answer:</strong></p>
<p>The Launch Enclave runs within the secure environment provided by Intel SGX, which is a set of security-related instruction codes built into Intel processors. While it is not part of the operating system (OS) itself, it does interact with the OS through a set of APIs and drivers.</p>
<p>The OS plays a role in managing the resources and interactions between the untrusted, non-secure part of the system and the secure enclave environment. In this sense, the Launch Enclave does run on a system with an OS, but it operates within the protected enclave environment provided by the Intel SGX, isolated from the untrusted portion of the OS.</p>
<hr />
<p><strong>Question:</strong> Does the binary of Launch Enclave exits in BIOS or ME?</p>
<p><strong>Answer:</strong></p>
<p>The binary of the Launch Enclave does not reside in the BIOS or the Intel Management Engine (ME). The Launch Enclave is a part of the Intel SGX software stack, which is installed on the operating system. The Intel SGX software stack includes the Intel SGX SDK and Platform Software (PSW).</p>
<p>The Launch Enclave is loaded as part of the Intel SGX runtime system when an application wants to create a new enclave. The Launch Enclave binary is signed by Intel, and its primary purpose is to verify and manage the launch of other enclaves, ensuring that they have been signed with an authorized launch key.</p>
<p>While the Launch Enclave is not directly part of the BIOS or ME, both the BIOS and ME play a role in enabling Intel SGX on the system. The BIOS must support and properly configure the hardware for Intel SGX, and the Intel ME is responsible for managing security features and providing cryptographic services to the system, including those related to Intel SGX.</p>
<hr />
<p><strong>Question:</strong> Is Launch Enclave provided by another vendor (No Intel)?</p>
<p><strong>Answer:</strong></p>
<p>No, the Launch Enclave is provided by Intel as part of the Intel SGX software stack. Intel is responsible for signing the Launch Enclave binary and distributing it as a part of the Intel SGX SDK and Platform Software (PSW). This is an important aspect of the SGX security model, as it allows Intel to maintain control over the trustworthiness of the Launch Enclave and ensure that only authorized enclaves can be launched on SGX-enabled systems.</p>
<hr />
<p><strong>Question:</strong> What is endorsement key?</p>
<p><strong>Answer:</strong></p>
<p>An endorsement key (EK) is a unique, private cryptographic key that is embedded within a security device or module, such as a Trusted Platform Module (TPM) or a hardware security module (HSM). This key is generated during the manufacturing process and is paired with a corresponding public key. The private portion of the endorsement key is never exposed outside of the secure environment and is used to prove the authenticity and integrity of the device.</p>
<p>The public portion of the endorsement key is typically used along with a certificate issued by the manufacturer, which serves as a proof of the device's authenticity. This certificate is called the endorsement certificate and is used to establish trust in the device's identity during secure communications or attestation processes.</p>
<p>In summary, the endorsement key is a fundamental component of hardware-based security solutions, as it helps to establish trust and verify the authenticity of a device or module in secure communications and attestation scenarios.</p>
<hr />
<p><strong>Question:</strong> How does the Solution 1 "Privacy CA for provisioning ak" work? Please list the steps.</p>
<p><strong>Answer:</strong></p>
<p>"Privacy CA for provisioning ak" refers to using a Privacy Certification Authority (Privacy CA) to provision an Attestation Key (ak) for a TPM (Trusted Platform Module) while maintaining the privacy of the device. The process allows a TPM to interact with third parties without disclosing its unique identity. Here are the steps involved in this solution:</p>
<ol>
<li>
<p>TPM generates an Attestation Key (ak) pair: The TPM generates a public-private key pair intended for use in attestation. The private part of the key remains within the TPM, while the public part is shared externally.</p>
</li>
<li>
<p>TPM creates an Attestation Key Certificate Request: The TPM generates a certificate signing request (CSR) for the public portion of the Attestation Key. This request typically includes information about the TPM, such as its public Endorsement Key (EK) and the desired ak.</p>
</li>
<li>
<p>Privacy CA verifies TPM identity: The Privacy CA receives the CSR and verifies the authenticity of the TPM using the provided public EK and the corresponding endorsement certificate issued by the TPM manufacturer. The Privacy CA may also check other information, such as the platform's conformance to certain security standards.</p>
</li>
<li>
<p>Privacy CA issues an Attestation Key Certificate: Once the Privacy CA is satisfied with the TPM's authenticity, it signs the CSR and generates an Attestation Key Certificate. This certificate is then sent back to the TPM.</p>
</li>
<li>
<p>TPM receives and stores the Attestation Key Certificate: The TPM securely stores the Attestation Key Certificate, linking the ak to a trusted Privacy CA. This certificate can be used in future attestation processes to establish trust with third parties.</p>
</li>
</ol>
<p>In summary, using a Privacy CA for provisioning an Attestation Key (ak) involves generating an ak pair within the TPM, creating a CSR for the public ak, verifying the TPM's identity by the Privacy CA, issuing an Attestation Key Certificate, and securely storing this certificate in the TPM. This process allows the TPM to prove its authenticity and integrity while preserving its privacy.</p>
<hr />
<p><strong>Question:</strong> How does the Solution 1 "Privacy CA for provisioning ak" work with Intel SGX? Please list the steps.</p>
<p><strong>Answer:</strong></p>
<p>Intel SGX (Software Guard Extensions) is a set of hardware-based security features that enable secure execution of applications within isolated enclaves, protecting data and code from unauthorized access. While Intel SGX doesn't rely on TPM for its operation, it also follows a remote attestation process that involves provisioning an attestation key. Here are the steps involved in this process:</p>
<ol>
<li>
<p>Application Developer creates an SGX Enclave: The developer writes an application and creates an enclave to protect the sensitive parts of the application. The enclave contains both code and data that must be protected from unauthorized access.</p>
</li>
<li>
<p>Enclave is signed: The enclave must be cryptographically signed by the application developer, ensuring its integrity and authenticity. The enclave's identity and metadata are included in the enclave signature.</p>
</li>
<li>
<p>Enclave is loaded and initialized: When the application runs, the enclave is loaded into the protected memory area, called the Enclave Page Cache (EPC). The processor initializes the enclave and verifies the enclave's signature.</p>
</li>
<li>
<p>Provisioning Enclave Attestation Key (ak) pair: Similar to the TPM process, Intel SGX generates a public-private key pair for attestation within the enclave. The private part of the key remains within the enclave, while the public part is shared externally.</p>
</li>
<li>
<p>Creating a certificate signing request (CSR): The enclave generates a CSR for the public portion of the Attestation Key (ak). This request typically includes information about the enclave, such as its identity and metadata.</p>
</li>
<li>
<p>Remote Attestation Service (IAS): Intel provides an Intel Attestation Service (IAS) that serves as a Privacy CA for Intel SGX enclaves. The CSR is sent to the IAS, which verifies the authenticity and integrity of the enclave and its measurements.</p>
</li>
<li>
<p>IAS issues an Attestation Key Certificate: Once the IAS is satisfied with the enclave's authenticity and integrity, it signs the CSR and generates an Attestation Key Certificate. This certificate is then sent back to the enclave.</p>
</li>
<li>
<p>Enclave receives and stores the Attestation Key Certificate: The enclave securely stores the Attestation Key Certificate, linking the ak to the trusted IAS. This certificate can be used in future remote attestation processes to establish trust with third parties.</p>
</li>
</ol>
<p>In summary, the remote attestation process for Intel SGX enclaves involves creating an enclave, signing it, loading and initializing it, provisioning an attestation key pair, creating a CSR, verifying the enclave's authenticity and integrity through the IAS, issuing an Attestation Key Certificate, and securely storing the certificate within the enclave. This process enables secure communication between the enclave and external parties, while maintaining privacy and ensuring integrity.</p>
<hr />
<p><strong>Question:</strong> What is "Privacy CA"?</p>
<p><strong>Answer:</strong></p>
<p>A Privacy Certification Authority (Privacy CA) is a trusted third-party entity that issues digital certificates in a privacy-preserving manner. Privacy CAs play a crucial role in remote attestation processes for secure hardware platforms, such as Intel SGX (Software Guard Extensions) and Trusted Platform Modules (TPMs).</p>
<p>The main purpose of a Privacy CA is to verify the authenticity and integrity of a secure hardware platform or an enclave (in the case of Intel SGX) without revealing sensitive information about the platform or enclave to other parties. The Privacy CA is responsible for validating the identity and measurements of the secure platform, and then issuing a digital certificate as proof of the platform's trustworthiness.</p>
<p>In this process, the Privacy CA acts as an intermediary between the secure platform and the external party seeking to establish a trusted communication channel. The Privacy CA helps to maintain the confidentiality of the platform's sensitive information while still providing the necessary level of assurance to the external party.</p>
<p>For example, in the context of Intel SGX, the Privacy CA is the Intel Attestation Service (IAS). The IAS issues digital certificates for Intel SGX enclaves after verifying their authenticity and integrity based on measurements provided by the enclave during the remote attestation process.</p>
<hr /></article></body></html>